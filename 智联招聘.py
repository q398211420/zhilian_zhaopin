# -*- coding: UTF-8 -*-
__author__ = 'zy'
__time__ = '2019/4/1 22:54'
import requests
from bs4 import BeautifulSoup
from requests import RequestException
from pymongo import MongoClient
#https://fe-api.zhaopin.com/c/i/sou?start=90&pageSize=90&cityId=530&workExperience=-1&education=-1&companyType=-1&employmentType=-1&jobWelfareTag=-1&kw=python&kt=3&_v=0.20817114&x-zp-page-request-id=3ec8f2a1221e4b48adcb3bf32f500b09-1554129968292-498351

# -*- coding=utf-8 -*-

from urllib import request,parse
from urllib.parse import urlencode
from bs4 import BeautifulSoup
import json
from jsonpath import jsonpath
import xlwt,time,random,hashlib

def one_url(city,area,keyword):

    #构造ajax的url请求中要构造最后这一块{pageSize:90
    # cityId:763
    # workExperience:-1
    # education:-1
    # companyType:-1
    # employmentType:-1
    # jobWelfareTag:-1
    # kw:java
    # kt:3
    # _v:0.00525758
    # x-zp-page-request-id:a7a3101ddf4c4f28b0e6164c63570f2c-1544857423330-953148}
    #第一格cityid要动态输入，前6个不用管，再动态输入kw,kt不用管，
    # 剩下_v和x-zp-page-request-id是相对11月智联招聘更新的新防爬手段

    # 这2个数据是什么？在前端源码中发现有一个js脚本生成这段东西<script>var zpPageRequestId = "666135458df54479a83b821306dfe035-" + (new Date()).valueOf() + "-" + parseInt(Math.random() * 1000000)</script>

    #经过分析_v就是一个随机的8位小数
    #x-zp-page-request-id 由三断组成，1（32位随机数据通过md5简单加密得到（真垃圾连盐什么都不加））+ 当前时间戳 + 随机数6位
    #想办法用python简单实现他所谓的加密算法x-zp-page-request-id

    #1、生成一个随机32位数id
    md5 = hashlib.md5()
    id = str(random.random())
    md5.update(id.encode('utf-8'))
    random_id = md5.hexdigest()
    # 2、生成当前时间戳
    now_time = int(time.time() * 1000)
    # 3、生成随机6位数
    randomnumb = int(random.random() * 1000000)
    #组合代码
    x_zp_page_request_id = str(random_id) + '-' + str(now_time) + '-' + str(randomnumb)
    url_v = round(random.random(), 8)

    pase = {
        'ji':city,
        're':area,
        'kw':keyword
    }
    #pageSize定义一个ajax请求能找回几条数据
    paser_json_url = {

        'pageSize': 100,
        'cityId': area,
        'workExperience': -1,
        'education': -1,
        'companyType': -1,
        'employmentType': -1,
        'jobWelfareTag''': -1,
        'kw': keyword,
        'kt': 3,
        '_v': url_v,
        'x-zp-page-request-id': x_zp_page_request_id

    }
    headerss = {
        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.132 Safari/537.36',

    }
    url = 'https://fe-api.zhaopin.com/c/i/sou?' + urlencode(paser_json_url)
    # pageSize定义一个ajax请求能找回几条数据，保持一致
    Referer_url = 'https://sou.zhaopin.com/?pageSize=100' + urlencode(pase) + '&kt=3'

    #第一个构造的url是实际请求ajax用到的url
    print(url)

    # 第二个构造的url是请求ajax接口时候请求头检查我们从什么页面跳转而来的，模拟伪装用
    print(Referer_url)
    return url,Referer_url
def pase_page(url,Referer_url):
    headers_ajax = {
        'Host': 'fe-api.zhaopin.com',
        'Origin': 'https://sou.zhaopin.com',
        'Referer':Referer_url,
        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.132 Safari/537.36'
    }
    rsp = request.Request(url,headers=headers_ajax)
    print(url)
    rsp = request.urlopen(rsp)
    json_data = rsp.read()
    data = json.loads(json_data)
    #爬取5个数据
    #用 jsonpath方式查找数据， jsonpath的语法也是百度现学现用的
    WORK_NAME = jsonpath(data,'$..jobName')
    SALARY = jsonpath(data,'$..salary')
    COMPANY = jsonpath(data,'$..company.name')
    COMPANY_TYPE = jsonpath(data,'$..company.type.name')
    COMPANY_URL = jsonpath(data,'$..company.url')
    print(len(SALARY))
    Header = ['工作名称','薪水','公司名称','公司类型','详细网页地址']

    L1 = list()
    L2 = list()
    L3 = list()
    L4 = list()
    L5 = list()

    for x in WORK_NAME:
        L1.append(x)
    for x in SALARY:
        L2.append(x)
    for x in COMPANY:
        L3.append(x)
    for x in COMPANY_TYPE:
        L4.append(x)
    for x in COMPANY_URL    :
        L5.append(x)

    wkb = xlwt.Workbook()
    sheet = wkb.add_sheet('招聘信息',cell_overwrite_ok=True)
    a = 0
    b = 0
    for head in range(len(Header)):
        sheet.write(a ,head ,Header[head] )

    # 信息
    for i in range(len(L1)):
        sheet.write(a + 1, b, L1[i])
        sheet.write(a + 1, b+1, L2[i])
        sheet.write(a + 1, b+2, L3[i])
        sheet.write(a + 1, b+3, L4[i])
        sheet.write(a + 1, b+4, L5[i])
        a = a + 1
        c0 = sheet.col(0)
        c0.width = 256 * 36

        c2 = sheet.col(2)
        c2.width = 256 * 34

        c3 = sheet.col(3)
        c3.width = 256 * 13

        c4 = sheet.col(4)
        c4.width = 256 * 100

    wkb.save('招聘信息表升级版.xls')

#city1和aera1是后面构造ajax的url的代码数字，url构造城市和地区不用字，可以通过首页等各
# 种地方看源码找到他有个js脚本页面里就是存放这些地区字典的，我只是简化他们
# 出来做相对的数据优化，用2种方法有兴趣随便看看没兴趣就跳过
def city1(city):
    arrCity = [['489', '0', '全国'], ['530', '489', '北京'], ['538', '489', '上海'], ['548', '489', '广东'], ['763', '548', '广州'], ['764', '548', '韶关'], ['765', '548', '深圳'], ['766', '548', '珠海'], ['767', '548', '汕头'], ['768', '548', '佛山'], ['769', '548', '江门'], ['770', '548', '湛江'], ['771', '548', '茂名'], ['772', '548', '肇庆'], ['773', '548', '惠州'], ['774', '548', '梅州'], ['775', '548', '汕尾'], ['776', '548', '河源'], ['777', '548', '阳江'], ['778', '548', '清远'], ['779', '548', '东莞'], ['780', '548', '中山'], ['781', '548', '潮州'], ['782', '548', '揭阳'], ['783', '548', '云浮'], ['531', '489', '天津'], ['546', '489', '湖北'], ['736', '546', '武汉'], ['737', '546', '黄石'], ['738', '546', '十堰'], ['739', '546', '宜昌'], ['740', '546', '襄阳'], ['741', '546', '鄂州'], ['742', '546', '荆门'], ['743', '546', '孝感'], ['744', '546', '荆州'], ['745', '546', '黄冈'], ['746', '546', '咸宁'], ['747', '546', '随州'], ['748', '546', '恩施'], ['10057', '546', '公安'], ['10139', '546', '武穴'], ['10140', '546', '天门'], ['10168', '546', '仙桃'], ['10169', '546', '潜江'], ['10171', '546', '宜城'], ['10179', '546', '神农架'], ['556', '489', '陕西'], ['854', '556', '西安'], ['855', '556', '铜川'], ['856', '556', '宝鸡'], ['857', '556', '咸阳'], ['858', '556', '渭南'], ['859', '556', '延安'], ['860', '556', '汉中'], ['861', '556', '榆林'], ['862', '556', '安康'], ['863', '556', '商洛'], ['10058', '556', '兴平'], ['10470', '556', '杨凌'], ['933', '556', '西咸新区'], ['552', '489', '四川'], ['801', '552', '成都'], ['802', '552', '自贡'], ['803', '552', '攀枝花'], ['804', '552', '泸州'], ['805', '552', '德阳'], ['806', '552', '绵阳'], ['807', '552', '广元'], ['808', '552', '遂宁'], ['809', '552', '内江'], ['810', '552', '乐山'], ['811', '552', '南充'], ['812', '552', '眉山'], ['813', '552', '宜宾'], ['814', '552', '广安'], ['815', '552', '达州'], ['816', '552', '雅安'], ['817', '552', '巴中'], ['818', '552', '资阳'], ['819', '552', '阿坝'], ['820', '552', '甘孜'], ['821', '552', '凉山'], ['10065', '552', '峨眉'], ['10104', '552', '西昌'], ['10201', '552', '简阳'], ['535', '489', '辽宁'], ['600', '535', '大连'], ['599', '535', '沈阳'], ['601', '535', '鞍山'], ['602', '535', '抚顺'], ['603', '535', '本溪'], ['604', '535', '丹东'], ['605', '535', '锦州'], ['606', '535', '营口'], ['607', '535', '阜新'], ['608', '535', '辽阳'], ['609', '535', '盘锦'], ['610', '535', '铁岭'], ['611', '535', '朝阳'], ['612', '535', '葫芦岛'], ['10023', '535', '兴城'], ['10070', '535', '海城'], ['10080', '535', '昌图'], ['10144', '535', '开原'], ['931', '535', '东港'], ['536', '489', '吉林'], ['613', '536', '长春'], ['10198', '536', '珲春'], ['614', '536', '吉林市'], ['615', '536', '四平'], ['616', '536', '辽源'], ['617', '536', '通化'], ['618', '536', '白山'], ['619', '536', '松原'], ['620', '536', '白城'], ['621', '536', '延边'], ['10122', '536', '公主岭'], ['539', '489', '江苏'], ['635', '539', '南京'], ['639', '539', '苏州'], ['640', '539', '昆山'], ['650', '539', '常熟'], ['652', '539', '张家港'], ['636', '539', '无锡'], ['637', '539', '徐州'], ['638', '539', '常州'], ['641', '539', '南通'], ['642', '539', '连云港'], ['643', '539', '淮安'], ['644', '539', '盐城'], ['645', '539', '扬州'], ['646', '539', '镇江'], ['647', '539', '泰州'], ['648', '539', '宿迁'], ['911', '539', '太仓市'], ['544', '489', '山东'], ['702', '544', '济南'], ['703', '544', '青岛'], ['704', '544', '淄博'], ['705', '544', '枣庄'], ['706', '544', '东营'], ['707', '544', '烟台'], ['708', '544', '潍坊'], ['709', '544', '济宁'], ['710', '544', '泰安'], ['711', '544', '威海'], ['712', '544', '日照'], ['713', '544', '莱芜'], ['714', '544', '临沂'], ['715', '544', '德州'], ['716', '544', '聊城'], ['717', '544', '滨州'], ['718', '544', '菏泽'], ['540', '489', '浙江'], ['653', '540', '杭州'], ['654', '540', '宁波'], ['655', '540', '温州'], ['656', '540', '嘉兴'], ['657', '540', '湖州'], ['658', '540', '绍兴'], ['659', '540', '金华'], ['660', '540', '衢州'], ['661', '540', '舟山'], ['662', '540', '台州'], ['663', '540', '丽水'], ['10158', '540', '方家山'], ['549', '489', '广西'], ['785', '549', '南宁'], ['786', '549', '柳州'], ['787', '549', '桂林'], ['788', '549', '梧州'], ['789', '549', '北海'], ['790', '549', '防城港'], ['791', '549', '钦州'], ['792', '549', '贵港'], ['793', '549', '玉林'], ['794', '549', '百色'], ['795', '549', '贺州'], ['796', '549', '河池'], ['904', '549', '来宾'], ['905', '549', '崇左'], ['541', '489', '安徽'], ['664', '541', '合肥'], ['665', '541', '芜湖'], ['666', '541', '蚌埠'], ['667', '541', '淮南'], ['668', '541', '马鞍山'], ['669', '541', '淮北'], ['670', '541', '铜陵'], ['671', '541', '安庆'], ['672', '541', '黄山'], ['673', '541', '滁州'], ['674', '541', '阜阳'], ['675', '541', '宿州'], ['677', '541', '六安'], ['678', '541', '亳州'], ['679', '541', '池州'], ['680', '541', '宣城'], ['10069', '541', '凤阳'], ['10181', '541', '广德'], ['10182', '541', '宿松'], ['532', '489', '河北'], ['565', '532', '石家庄'], ['566', '532', '唐山'], ['567', '532', '秦皇岛'], ['568', '532', '邯郸'], ['569', '532', '邢台'], ['570', '532', '保定'], ['571', '532', '张家口'], ['572', '532', '承德'], ['573', '532', '沧州'], ['574', '532', '廊坊'], ['575', '532', '衡水'], ['10143', '532', '遵化'], ['533', '489', '山西'], ['576', '533', '太原'], ['577', '533', '大同'], ['578', '533', '阳泉'], ['579', '533', '长治'], ['580', '533', '晋城'], ['581', '533', '朔州'], ['582', '533', '晋中'], ['583', '533', '运城'], ['584', '533', '忻州'], ['585', '533', '临汾'], ['586', '533', '吕梁'], ['910', '533', '永济市'], ['534', '489', '内蒙古'], ['587', '534', '呼和浩特'], ['588', '534', '包头'], ['589', '534', '乌海'], ['590', '534', '赤峰'], ['591', '534', '通辽'], ['592', '534', '鄂尔多斯'], ['593', '534', '呼伦贝尔'], ['594', '534', '兴安盟'], ['595', '534', '锡林郭勒盟'], ['596', '534', '乌兰察布'], ['597', '534', '巴彦淖尔'], ['598', '534', '阿拉善盟'], ['10031', '534', '乌审旗'], ['10157', '534', '满洲里'], ['537', '489', '黑龙江'], ['622', '537', '哈尔滨'], ['623', '537', '齐齐哈尔'], ['624', '537', '鸡西'], ['625', '537', '鹤岗'], ['626', '537', '双鸭山'], ['627', '537', '大庆'], ['628', '537', '伊春'], ['629', '537', '佳木斯'], ['630', '537', '七台河'], ['631', '537', '牡丹江'], ['632', '537', '黑河'], ['633', '537', '绥化'], ['634', '537', '大兴安岭'], ['10081', '537', '安达'], ['10159', '537', '双城'], ['10160', '537', '尚志'], ['10161', '537', '绥芬河'], ['10510', '537', '肇东市'], ['542', '489', '福建'], ['681', '542', '福州'], ['682', '542', '厦门'], ['683', '542', '莆田'], ['684', '542', '三明'], ['685', '542', '泉州'], ['687', '542', '漳州'], ['688', '542', '南平'], ['689', '542', '龙岩'], ['690', '542', '宁德'], ['543', '489', '江西'], ['691', '543', '南昌'], ['692', '543', '景德镇'], ['693', '543', '萍乡'], ['694', '543', '九江'], ['695', '543', '新余'], ['696', '543', '鹰潭'], ['697', '543', '赣州'], ['698', '543', '吉安'], ['699', '543', '宜春'], ['700', '543', '抚州'], ['701', '543', '上饶'], ['545', '489', '河南'], ['719', '545', '郑州'], ['720', '545', '开封'], ['721', '545', '洛阳'], ['722', '545', '平顶山'], ['723', '545', '安阳'], ['724', '545', '鹤壁'], ['725', '545', '新乡'], ['726', '545', '焦作'], ['727', '545', '濮阳'], ['728', '545', '许昌'], ['729', '545', '漯河'], ['730', '545', '三门峡'], ['731', '545', '南阳'], ['732', '545', '商丘'], ['733', '545', '信阳'], ['734', '545', '周口'], ['735', '545', '驻马店'], ['10044', '545', '济源'], ['10059', '545', '西平'], ['547', '489', '湖南'], ['749', '547', '长沙'], ['750', '547', '株洲'], ['751', '547', '湘潭'], ['752', '547', '衡阳'], ['753', '547', '邵阳'], ['754', '547', '岳阳'], ['755', '547', '常德'], ['756', '547', '张家界'], ['757', '547', '益阳'], ['758', '547', '郴州'], ['759', '547', '永州'], ['760', '547', '怀化'], ['761', '547', '娄底'], ['762', '547', '湘西'], ['550', '489', '海南'], ['799', '550', '海口'], ['800', '550', '三亚'], ['907', '550', '洋浦市/洋浦经济开发区'], ['10153', '550', '琼海'], ['10183', '550', '儋州'], ['10184', '550', '五指山'], ['10185', '550', '文昌'], ['10186', '550', '万宁'], ['10187', '550', '东方'], ['10188', '550', '定安'], ['10189', '550', '屯昌'], ['10190', '550', '澄迈'], ['10191', '550', '临高'], ['10192', '550', '琼中'], ['10193', '550', '保亭'], ['10194', '550', '白沙'], ['10195', '550', '昌江'], ['10196', '550', '乐东'], ['10197', '550', '陵水'], ['551', '489', '重庆'], ['553', '489', '贵州'], ['822', '553', '贵阳'], ['823', '553', '六盘水'], ['824', '553', '遵义'], ['825', '553', '安顺'], ['826', '553', '铜仁'], ['827', '553', '黔西南'], ['828', '553', '毕节'], ['829', '553', '黔东南'], ['830', '553', '黔南'], ['554', '489', '云南'], ['831', '554', '昆明'], ['832', '554', '曲靖'], ['833', '554', '玉溪'], ['834', '554', '保山'], ['835', '554', '昭通'], ['836', '554', '楚雄'], ['837', '554', '红河'], ['838', '554', '文山'], ['840', '554', '西双版纳'], ['841', '554', '大理'], ['842', '554', '德宏'], ['843', '554', '丽江'], ['844', '554', '怒江'], ['845', '554', '迪庆'], ['846', '554', '临沧'], ['10163', '554', '普洱'], ['555', '489', '西藏'], ['847', '555', '拉萨'], ['848', '555', '昌都'], ['849', '555', '山南'], ['850', '555', '日喀则'], ['851', '555', '那曲'], ['852', '555', '阿里'], ['853', '555', '林芝'], ['557', '489', '甘肃'], ['864', '557', '兰州'], ['865', '557', '嘉峪关'], ['866', '557', '金昌'], ['867', '557', '白银'], ['868', '557', '天水'], ['869', '557', '武威'], ['870', '557', '张掖'], ['871', '557', '平凉'], ['872', '557', '酒泉'], ['873', '557', '庆阳'], ['874', '557', '定西'], ['875', '557', '陇南'], ['876', '557', '临夏'], ['877', '557', '甘南'], ['558', '489', '青海'], ['878', '558', '西宁'], ['879', '558', '海东'], ['880', '558', '海北'], ['881', '558', '黄南'], ['882', '558', '海南州'], ['883', '558', '果洛'], ['884', '558', '玉树'], ['885', '558', '海西'], ['559', '489', '宁夏'], ['886', '559', '银川'], ['887', '559', '石嘴山'], ['888', '559', '吴忠'], ['889', '559', '固原'], ['906', '559', '中卫'], ['560', '489', '新疆'], ['890', '560', '乌鲁木齐'], ['891', '560', '克拉玛依'], ['892', '560', '吐鲁番'], ['893', '560', '哈密'], ['894', '560', '昌吉'], ['895', '560', '博尔塔拉'], ['896', '560', '巴音郭楞'], ['897', '560', '阿克苏'], ['898', '560', '克孜勒苏'], ['899', '560', '喀什'], ['900', '560', '和田'], ['901', '560', '伊犁'], ['902', '560', '塔城'], ['903', '560', '阿勒泰'], ['10061', '560', '石河子'], ['10164', '560', '奎屯市'], ['10166', '560', '乌苏'], ['10176', '560', '阿拉尔'], ['10177', '560', '图木舒克'], ['10178', '560', '五家渠'], ['932', '560', '北屯市'], ['561', '489', '香港'], ['562', '489', '澳门'], ['563', '489', '台湾省'], ['480', '0', '国外'], ['481', '0', '阿根廷'], ['482', '0', '澳大利亚'], ['483', '0', '奥地利'], ['484', '0', '白俄罗斯'], ['485', '0', '比利时'], ['486', '0', '巴西'], ['487', '0', '保加利亚'], ['488', '0', '加拿大'], ['490', '0', '塞浦路斯'], ['491', '0', '捷克'], ['492', '0', '丹麦'], ['493', '0', '埃及'], ['494', '0', '芬兰'], ['495', '0', '法国'], ['496', '0', '德国'], ['497', '0', '希腊'], ['498', '0', '匈牙利'], ['499', '0', '冰岛'], ['500', '0', '印度'], ['501', '0', '印度尼西亚'], ['502', '0', '爱尔兰'], ['503', '0', '以色列'], ['504', '0', '意大利'], ['505', '0', '日本'], ['506', '0', '韩国'], ['507', '0', '科威特'], ['508', '0', '马来西亚'], ['509', '0', '荷兰'], ['510', '0', '新西兰'], ['511', '0', '挪威'], ['513', '0', '巴基斯坦'], ['514', '0', '波兰'], ['515', '0', '葡萄牙'], ['516', '0', '俄罗斯联邦'], ['517', '0', '沙特阿拉伯'], ['518', '0', '新加坡'], ['519', '0', '南非'], ['520', '0', '西班牙'], ['521', '0', '瑞典'], ['522', '0', '瑞士'], ['523', '0', '泰国'], ['524', '0', '土耳其'], ['525', '0', '乌克兰'], ['526', '0', '阿联酋'], ['527', '0', '英国'], ['528', '0', '美国'], ['529', '0', '越南'], ['913', '0', '安哥拉'], ['914', '0', '加纳'], ['915', '0', '尼日利亚'], ['916', '0', '坦桑尼亚'], ['917', '0', '乌干达'], ['918', '0', '阿尔及利亚'], ['919', '0', '塞内加尔'], ['930', '0', '柬埔寨'], ['512', '0', '其他']]
    new_city_code = []
    for i in range(len(arrCity)):
        #把列表中的列表1,2,3~~~~拆成一个列表丢到wddd中
        wdddd = arrCity[i]
        #删除多余元素
        del wdddd[1]
        #再把一个个列表又放回去，就是冲洗了列表中的列表中不要的元素
        new_city_code.append(wdddd)
    #弄3个列表把列表转换成字典
    d = []
    k = []
    v = []
    for ii in range(len(new_city_code)):
        d = new_city_code[ii]
        k.append(d[1])
        v.append(d[0])
        d.clear()
    # 映射函数方式来构造字典
    wd = dict(zip(k,v))
    return wd[city]
def area1(area):
    arrArea = [['2001','530','东城区'],['2002','530','西城区'],['2003','530','崇文区'],['2004','530','宣武区'],['2005','530','海淀区'],['2006','530','朝阳区'],['2007','530','丰台区'],['2008','530','石景山区'],['2009','530','通州区'],['2010','530','顺义区'],['2011','530','房山区'],['2012','530','大兴区'],['2013','530','昌平区'],['2014','530','怀柔区'],['2015','530','平谷区'],['2016','530','门头沟区'],['2017','530','密云县'],['2018','530','延庆县'],['2165','531','和平区'],['2166','531','河东区'],['2167','531','河西区'],['2168','531','南开区'],['2169','531','河北区'],['2170','531','红桥区'],['2171','531','滨海新区'],['2172','531','东丽区'],['2173','531','西青区'],['2174','531','津南区'],['2175','531','北辰区'],['2176','531','武清区'],['2177','531','宝坻区'],['2178','531','静海县'],['2179','531','宁河县'],['2180','531','蓟县'],['2019','538','黄浦区'],['2021','538','徐汇区'],['2022','538','长宁区'],['2023','538','静安区'],['2024','538','普陀区'],['2026','538','虹口区'],['2027','538','杨浦区'],['2028','538','闵行区'],['2029','538','宝山区'],['2030','538','嘉定区'],['2031','538','浦东新区'],['2032','538','金山区'],['2033','538','松江区'],['2034','538','青浦区'],['2035','538','奉贤区'],['2036','538','崇明区'],['2312','551','渝中区'],['2313','551','江北区'],['2314','551','南岸区'],['2315','551','沙坪坝区'],['2316','551','九龙坡区'],['2317','551','大渡口区'],['2318','551','渝北区'],['2319','551','巴南区'],['2320','551','北碚区'],['2321','551','万州区'],['2322','551','黔江区'],['2323','551','永川区'],['2324','551','涪陵区'],['2325','551','长寿区'],['2326','551','江津区'],['2327','551','合川区'],['2328','551','双桥区'],['2329','551','万盛区'],['2330','551','南川区'],['2331','551','荣昌区'],['2332','551','大足区'],['2333','551','壁山区'],['2334','551','铜梁区'],['2335','551','潼南区'],['2336','551','綦江区'],['2337','551','忠县'],['2338','551','开县'],['2339','551','云阳县'],['2340','551','梁平县'],['2341','551','垫江县'],['2342','551','丰都县'],['2343','551','奉节县'],['2344','551','巫山县'],['2345','551','巫溪县'],['2346','551','城口县'],['2347','551','武隆县'],['2360','551','北部新区'],['2433','551','石柱土家族自治县'],['2434','551','秀山土家族苗族自治县'],['2435','551','酉阳土家族苗族自治县'],['2436','551','彭水苗族土家族自治县'],['2288','565','长安区'],['2290','565','桥西区'],['2291','565','新华区'],['2292','565','裕华区'],['2293','565','东开发区'],['2294','565','井陉矿区'],['2295','565','辛集市'],['2296','565','藁城区'],['2297','565','晋州市'],['2298','565','新乐市'],['2299','565','鹿泉区'],['2300','565','正定县'],['2301','565','平山县'],['2302','565','元氏县'],['2412','565','栾城区'],['2413','565','行唐县'],['2414','565','灵寿县'],['2415','565','深泽县'],['2416','565','无极县'],['2417','565','赵县'],['2418','565','高邑县'],['2419','565','赞皇县'],['2420','565','井陉县'],['2501','576','小店区'],['2502','576','迎泽区'],['2503','576','杏花岭区'],['2504','576','尖草坪区'],['2505','576','万柏林区'],['2506','576','晋源区'],['2507','576','清徐县'],['2508','576','阳曲县'],['2509','576','娄烦县'],['2510','576','古交市'],['2126','599','和平区'],['2127','599','沈河区'],['2128','599','皇姑区'],['2129','599','大东区'],['2130','599','铁西区'],['2132','599','东陵区（浑南新区）'],['2133','599','于洪区'],['2134','599','沈北新区'],['2135','599','苏家屯区'],['2382','599','棋盘山开发区'],['2383','599','新民市'],['2384','599','辽中县'],['2385','599','康平县'],['2386','599','法库县'],['3033','599','经济技术开发区'],['2181','600','西岗区'],['2182','600','中山区'],['2183','600','沙河口区'],['2184','600','甘井子区'],['2185','600','高新园区'],['2186','600','开发区'],['2187','600','旅顺口区'],['2188','600','金州区 '],['2394','600','普兰店市'],['2395','600','瓦房店市'],['2396','600','庄河市'],['2397','600','长海县'],['2398','600','长兴岛'],['2140','613','南关区'],['2141','613','宽城区'],['2142','613','朝阳区'],['2143','613','二道区'],['2144','613','绿园区'],['2145','613','高新开发区'],['2146','613','经济开发区'],['2147','613','汽车产业开发区'],['2148','613','双阳区'],['2387','613','榆树市'],['2388','613','九台市'],['2389','613','德惠市'],['2390','613','农安县'],['2270','622','南岗区'],['2271','622','道里区'],['2272','622','道外区'],['2273','622','香坊区'],['2274','622','松北区'],['2275','622','平房区'],['2276','622','呼兰区'],['2277','622','阿城区'],['2424','622','五常市'],['2426','622','方正县'],['2427','622','依兰县'],['2428','622','宾　县'],['2429','622','巴彦县'],['2430','622','木兰县'],['2431','622','通河县'],['2432','622','延寿县'],['2084','635','玄武区'],['2086','635','秦淮区'],['2087','635','建邺区'],['2088','635','鼓楼区'],['2090','635','浦口区'],['2091','635','六合区'],['2092','635','栖霞区'],['2093','635','雨花台区'],['2094','635','江宁区'],['2095','635','溧水区'],['2096','635','高淳区'],['2512','636','江阴市'],['2513','636','宜兴市'],['2514','636','崇安区'],['2515','636','南长区'],['2516','636','北塘区'],['2517','636','滨湖区'],['2518','636','无锡新区'],['2519','636','惠山区'],['2520','636','锡山区'],['2215','639','虎丘区'],['2216','639','吴中区'],['2217','639','相城区'],['2218','639','工业园区'],['2404','639','高新区'],['2511','639','姑苏区'],['2561','639','吴江区'],['2233','653','上城区'],['2234','653','下城区'],['2235','653','江干区'],['2236','653','拱墅区'],['2237','653','西湖区'],['2238','653','滨江区'],['2239','653','萧山区'],['2240','653','余杭区'],['2241','653','桐庐县'],['2242','653','淳安县'],['2409','653','建德市'],['2457','653','下沙'],['2479','653','临安市'],['2478','653','富阳区'],['2352','664','庐阳区'],['2353','664','瑶海区'],['2354','664','蜀山区'],['2355','664','包河区'],['2356','664','经济技术开发区'],['2357','664','滨湖新区'],['2358','664','新站综合开发试验区'],['2359','664','高新区'],['2437','664','政务文化新区'],['2438','664','北城新区'],['3273','664','肥东县'],['3274','664','肥西县'],['3275','664','长丰县'],['3276','664','庐江县'],['3277','664','巢湖市'],['2251','681','鼓楼区'],['2252','681','台江区'],['2253','681','仓山区'],['2254','681','马尾区'],['2255','681','晋安区'],['2256','681','闽侯县'],['2257','681','罗源县'],['2258','681','连江县'],['2259','681','永泰县'],['2260','681','闽清县'],['2261','681','平潭县'],['2472','681','长乐'],['2473','681','福清'],['2264','682','思明区'],['2265','682','湖里区'],['2266','682','集美区'],['2267','682','海沧区'],['2268','682','同安区'],['2269','682','翔安区'],['2536','691','东湖区'],['2537','691','西湖区'],['2538','691','青云谱区'],['2539','691','青山湖区'],['2540','691','湾里区'],['2541','691','南昌县'],['2542','691','新建区'],['2543','691','进贤县'],['2544','691','安义县'],['3302','691','红谷滩新区'],['3303','691','南昌临空经济区'],['3304','691','南昌经济开发区'],['3305','691','南昌高新区'],['3306','691','南昌小蓝经济技术开发区'],['3307','691','桑海经济技术开发区'],['3308','691','南昌望城新区'],['2097','702','市中区'],['2098','702','历下区'],['2099','702','天桥区'],['2100','702','槐荫区'],['2101','702','历城区'],['2102','702','长清区'],['2103','702','平阴县'],['2104','702','济阳县'],['2105','702','商河县'],['2376','702','高新区'],['2471','702','章丘市'],['2153','703','市南区'],['2154','703','市北区（新行政区）'],['2156','703','李沧区'],['2157','703','黄岛区（新行政区）'],['2158','703','崂山区'],['2159','703','城阳区'],['2160','703','胶州市'],['2161','703','即墨市'],['2163','703','胶南区'],['2162','703','平度市'],['2164','703','莱西市'],['2391','703','保税区'],['2392','703','青岛经济技术开发区'],['2393','703','青岛高新技术产业开发区'],['3009','703','西海岸新区'],['2545','707','芝罘区'],['2546','707','福山区'],['2547','707','牟平区'],['2548','707','莱山区'],['2549','707','长岛县'],['2550','707','龙口市'],['2551','707','莱阳市'],['2552','707','莱州市'],['2553','707','蓬莱市'],['2554','707','招远市'],['2555','707','栖霞市'],['2556','707','海阳市'],['2557','707','高新区'],['2558','707','开发区'],['2194','719','中原区'],['2195','719','二七区'],['2196','719','管城区'],['2197','719','金水区'],['2198','719','惠济区'],['2199','719','郑东新区 '],['2203','719','经开区'],['2204','719','高新区'],['2205','719','上街区'],['2399','719','新郑市'],['2400','719','登封市'],['2401','719','新密市'],['2402','719','荥阳市'],['2403','719','中牟县'],['2444','719','巩义市'],['2445','719','航空港区'],['2057','736','江岸区'],['2058','736','江汉区'],['2059','736','硚口区'],['2060','736','汉阳区'],['2061','736','武昌区'],['2062','736','青山区'],['2063','736','洪山区'],['2064','736','蔡甸区'],['2065','736','东西湖区'],['2066','736','汉南区'],['2067','736','江夏区'],['2068','736','黄陂区'],['2069','736','新洲区'],['2365','736','武汉经济技术开发区'],['2366','736','东湖新技术开发区'],['2367','736','武汉吴家山经济技术开发区'],['2224','749','芙蓉区'],['2225','749','天心区'],['2226','749','岳麓区'],['2227','749','开福区'],['2228','749','雨花区'],['2405','749','望城区'],['2406','749','长沙县'],['2407','749','宁乡县'],['2408','749','浏阳市'],['2045','763','越秀区'],['2046','763','海珠区'],['2047','763','荔湾区'],['2048','763','天河区'],['2049','763','白云区'],['2050','763','黄埔区'],['2052','763','番禺区'],['2051','763','花都区'],['2053','763','萝岗区'],['2054','763','南沙区'],['2475','763','增城区'],['2474','763','从化区'],['2037','765','福田区'],['2038','765','罗湖区'],['2039','765','南山区'],['2040','765','盐田区'],['2041','765','宝安区'],['2042','765','龙岗区'],['2043','765','坪山新区'],['2044','765','光明新区'],['2361','765','龙华新区'],['2362','765','大鹏新区'],['2531','768','禅城区'],['2534','768','三水区'],['2535','768','高明区'],['2562','768','南海区'],['2560','768','顺德区'],['2246','773','惠城区'],['2247','773','惠阳区'],['3253','773','仲恺区'],['3254','773','大亚湾区'],['3255','773','博罗县'],['3256','773','惠东县'],['3257','773','龙门县'],['2107','801','青羊区'],['2108','801','锦江区'],['2109','801','金牛区'],['2110','801','武侯区'],['2111','801','成华区'],['2112','801','龙泉驿区'],['2113','801','青白江区'],['2114','801','新都区'],['2115','801','温江区'],['2116','801','双流区'],['2117','801','郫都区'],['2118','801','金堂县'],['2119','801','大邑县'],['2120','801','蒲江县'],['2121','801','新津县'],['2377','801','邛崃市'],['2378','801','崇州市'],['2379','801','彭州市'],['2380','801','都江堰市'],['2381','801','高新区'],['3300','801','天府新区'],['3301','801','高新西区'],['2521','822','云岩区'],['2522','822','南明区'],['2523','822','花溪区'],['2524','822','观山湖区（金阳新区）'],['2525','822','白云区'],['2526','822','乌当区'],['2527','822','清镇市'],['2528','822','修文县'],['2529','822','息烽县'],['2530','822','开阳县'],['2070','854','新城区'],['2071','854','碑林区'],['2072','854','莲湖区'],['2073','854','雁塔区'],['2074','854','未央区'],['2075','854','灞桥区'],['2076','854','长安区'],['2077','854','阎良区'],['2078','854','临潼区'],['2079','854','蓝田县'],['2080','854','周至县'],['2081','854','户县'],['2082','854','高陵县'],['2368','854','高新技术产业开发区'],['2369','854','经济技术开发区'],['2370','854','曲江新区'],['2371','854','浐灞生态区'],['2372','854','阎良国家航空高新技术产业基地'],['2373','854','西安国家民用航天产业基地'],['2374','854','国际港务区'],['3278','854','渭北工业区'],['3001','654','奉化区'],['3002','654','鄞州区'],['3003','654','海曙区'],['3004','654','江东区'],['3005','654','江北区'],['3006','654','北仑区'],['3007','654','镇海区'],['3008','654','高新区'],['3370','654','慈溪市'],['3371','654','余姚市'],['3372','654','宁海县'],['3373','654','象山县'],['3010','708','高新技术开发区'],['3011','708','滨海经济开发区'],['3012','708','高密市'],['3013','708','寿光市'],['3014','708','昌乐县'],['3015','708','青州市'],['3016','708','诸城市'],['3017','708','安丘市'],['3018','709','任城区'],['3019','709','曲阜市'],['3020','709','邹城市'],['3021','709','微山县'],['3022','709','鱼台县'],['3023','709','金乡县'],['3024','709','嘉祥县'],['3025','709','汶上县'],['3026','709','泗水县'],['3027','709','梁山县'],['3366','709','兖州区'],['3028','704','张店区'],['3029','704','淄川区'],['3030','704','博山区'],['3031','704','临淄区'],['3032','704','淄博高新区'],['3034','606','鲅鱼圈'],['3035','606','大石桥'],['3038','638','天宁区'],['3039','638','钟楼区'],['3040','638','新北区'],['3041','638','武进区'],['3042','638','溧阳市'],['3043','638','金坛区'],['3044','641','崇川区'],['3045','641','港闸区'],['3046','641','海安县'],['3047','641','如东县'],['3048','641','海门市'],['3394','641','如皋市'],['3395','641','启东市'],['3399','641','通州区'],['3049','637','鼓楼区'],['3050','637','云龙区'],['3051','637','贾汪区'],['3052','637','泉山区'],['3053','637','铜山区'],['3054','637','丰县'],['3055','637','沛县'],['3056','637','睢宁县'],['3057','637','新沂市'],['3058','637','邳州市'],['3059','646','京口区'],['3060','646','润州区'],['3061','646','丹徒区'],['3391','646','句容市'],['3392','646','丹阳市'],['3393','646','扬中市'],['3062','645','邗江区'],['3063','645','广陵区'],['3064','645','江都区'],['3065','645','仪征市'],['3066','645','宝应县'],['3396','645','高邮市'],['3067','647','海陵区'],['3068','647','高港区'],['3069','647','姜堰区'],['3070','647','兴化市'],['3390','647','靖江市'],['3397','647','泰兴市'],['3071','644','亭湖区'],['3072','644','盐都区'],['3073','644','大丰区'],['3074','644','响水县'],['3075','644','滨海县'],['3076','644','阜宁县'],['3077','644','射阳县'],['3078','644','建湖县'],['3079','644','东台市'],['3080','643','清河区'],['3081','643','楚州区'],['3082','643','淮阴区'],['3083','643','青浦区'],['3084','643','涟水县'],['3085','643','洪泽县'],['3086','643','金湖县'],['3398','643','盱眙县'],['3087','642','连云区'],['3088','642','海州区'],['3089','642','赣榆县'],['3090','642','东海县'],['3091','642','灌云县'],['3092','642','灌南县'],['3093','685','鲤城区'],['3094','685','丰泽区'],['3095','685','洛江区'],['3096','685','惠安县'],['3097','685','安溪县'],['3098','685','永春县'],['3099','685','德化县'],['3100','685','石狮市'],['3101','685','晋江市'],['3102','685','南安市'],['3400','685','泉港区'],['3103','658','越城区'],['3104','658','柯桥区'],['3105','658','新昌县'],['3106','658','嵊州市'],['3386','658','上虞区'],['3387','658','诸暨市'],['3107','655','鹿城区'],['3108','655','龙湾区'],['3109','655','瓯海区'],['3110','655','洞头区'],['3111','655','平阳县'],['3112','655','苍南县'],['3113','655','文成县'],['3114','655','泰顺县'],['3383','655','乐清市'],['3384','655','永嘉县'],['3385','655','瑞安市'],['3115','659','婺城区'],['3116','659','金东区'],['3117','659','武义县'],['3118','659','浦江县'],['3119','659','磐安县'],['3120','659','兰溪市'],['3376','659','义乌市'],['3377','659','东阳市'],['3378','659','永康市'],['3121','656','南湖区'],['3122','656','秀洲区'],['3123','656','海盐县'],['3379','656','平湖市'],['3380','656','嘉善县'],['3381','656','桐乡市'],['3382','656','海宁市'],['3124','662','椒江区'],['3125','662','黄岩区'],['3126','662','路桥区'],['3127','662','天台县'],['3128','662','仙居县'],['3129','662','温岭市'],['3130','662','临海市'],['3374','662','玉环县'],['3375','662','三门县'],['3131','657','吴兴区'],['3132','657','南浔区'],['3133','657','长兴县'],['3134','657','安吉县'],['3388','657','德清县'],['3135','663','莲都区'],['3136','663','青田县'],['3137','663','缙云县'],['3138','663','遂昌县'],['3139','663','松阳县'],['3140','663','云和县'],['3141','663','庆元县'],['3142','663','景宁县'],['3389','663','龙泉市'],['3143','799','秀英区'],['3144','799','龙华区'],['3145','799','琼山区'],['3146','799','美兰区'],['3147','785','兴宁区'],['3148','785','青秀区'],['3149','785','江南区'],['3150','785','西乡塘区'],['3151','785','良庆区'],['3152','785','邕宁区'],['3153','785','武鸣区'],['3154','785','隆安县'],['3155','785','马山县'],['3156','785','上林县'],['3157','785','宾阳县'],['3158','785','横县'],['3159','786','城中区'],['3160','786','鱼峰区'],['3161','786','柳南区'],['3162','786','柳北区'],['3163','787','秀峰区'],['3164','787','叠彩区'],['3165','787','象山区'],['3166','787','七星区'],['3167','787','雁山区'],['3168','787','临桂区'],['3169','789','海城区'],['3170','789','银海区'],['3171','789','铁山港区'],['3172','789','合浦县'],['3173','793','玉州区'],['3174','793','福绵区'],['3175','793','北流市'],['3176','793','容县'],['3177','793','陆川县'],['3178','793','博白县'],['3179','793','兴业县'],['3180','766','香洲区'],['3181','766','斗门区'],['3182','766','金湾区'],['3183','766','横琴新区'],['3184','766','高新区'],['3185','766','保税区'],['3186','780','东区'],['3187','780','南区'],['3188','780','石岐区'],['3189','780','西区'],['3190','780','五桂山区'],['3191','780','火炬开发区'],['3192','780','板芙镇'],['3193','780','黄圃镇'],['3194','780','南头镇'],['3195','780','东凤镇'],['3196','780','阜沙镇'],['3197','780','小榄镇'],['3198','780','东升镇'],['3199','780','古镇镇'],['3200','780','横栏镇'],['3201','780','三角镇'],['3202','780','民众镇'],['3203','780','南朗镇'],['3204','780','港口镇'],['3205','780','大涌镇'],['3206','780','沙溪镇'],['3207','780','三乡镇'],['3208','780','神湾镇'],['3209','780','坦洲镇'],['3210','769','蓬江区'],['3211','769','江海区'],['3212','769','新会区'],['3213','769','开平市'],['3214','769','鹤山市'],['3215','769','恩平市'],['3403','769','台山市'],['3216','767','龙湖区'],['3217','767','金平区'],['3218','767','濠江区'],['3219','767','潮阳区'],['3220','779','莞城区'],['3221','779','南城区'],['3222','779','东城区'],['3223','779','万江区'],['3224','779','石碣镇'],['3225','779','石龙镇'],['3226','779','茶山镇'],['3227','779','石排镇'],['3228','779','企石镇'],['3229','779','横沥镇'],['3230','779','桥头镇'],['3231','779','谢岗镇'],['3232','779','东坑镇'],['3233','779','常平镇'],['3234','779','寮步镇'],['3235','779','大朗镇'],['3236','779','麻涌镇'],['3237','779','中堂镇'],['3238','779','高埗镇'],['3239','779','樟木头镇'],['3240','779','大岭山镇'],['3241','779','望牛墩镇'],['3242','779','黄江镇'],['3243','779','洪梅镇'],['3244','779','清溪镇'],['3245','779','沙田镇'],['3246','779','道滘镇'],['3247','779','塘厦镇'],['3248','779','虎门镇'],['3249','779','厚街镇'],['3250','779','凤岗镇'],['3251','779','长安镇'],['3252','779','松山湖区'],['3259','831','五华区'],['3260','831','盘龙区'],['3261','831','官渡区'],['3262','831','西山区'],['3263','831','东川区'],['3264','831','呈贡区'],['3265','831','晋宁县'],['3266','831','富民县'],['3267','831','宜良县'],['3268','831','石林彝族自治县'],['3269','831','嵩明县'],['3270','831','禄劝县'],['3271','831','寻甸县'],['3272','831','安宁市'],['3360','933','沣东新城'],['3361','933','沣西新城'],['3362','933','秦汉新城'],['3363','933','泾河新城'],['3364','933','空港新城'],['3279','585','侯马'],['3280','582','榆次区'],['3281','582','榆社县'],['3282','582','左权县'],['3283','582','和顺县'],['3284','582','昔阳县'],['3285','582','寿阳县'],['3286','582','太谷县'],['3287','582','祁县'],['3288','582','平遥县'],['3289','582','灵石县'],['3290','582','介休市'],['3292','890','新市区'],['3293','890','水磨沟区'],['3294','890','沙依巴克区'],['3295','890','天山区'],['3296','890','头屯河区'],['3297','890','米东区'],['3298','890','达阪城区'],['3299','890','乌鲁木齐县'],['3309','574','霸州市'],['3310','574','三河市'],['3311','574','永清县'],['3312','574','固安市'],['3313','574','香河市'],['3314','574','大城县'],['3315','574','文安县'],['3316','574','大厂回族自治县'],['3317','574','燕郊开发区'],['3318','570','涿州市'],['3319','570','安国市'],['3320','570','高碑店市'],['3321','570','满城区'],['3322','570','清苑区'],['3323','570','定州市'],['3324','721','涧西区'],['3325','721','洛龙区'],['3326','721','老城区'],['3327','721','西工区'],['3328','721','吉利区'],['3329','721','伊滨区'],['3330','721','高新区'],['3331','721','偃师市'],['3332','721','嵩县'],['3333','721','洛宁县'],['3334','721','栾川县'],['3335','721','孟津县'],['3336','721','伊川县'],['3337','721','汝阳县'],['3338','721','新安县'],['3339','721','宜阳县'],['3340','728','魏都区'],['3341','728','许昌县'],['3342','728','禹州县'],['3343','728','鄢陵县'],['3344','728','襄城县'],['3406','728','长葛县'],['3345','739','西陵区'],['3346','739','伍家岗区'],['3347','739','点军区'],['3348','739','猇亭区'],['3349','739','夷陵区'],['3350','864','城关区'],['3351','864','七里河区'],['3352','864','安宁区'],['3353','864','西固区'],['3354','864','红古区'],['3355','864','永登县'],['3356','864','皋兰县'],['3357','864','榆中县'],['3358','864','兰州新区'],['3367','711','乳山市'],['3368','711','荣成市'],['3369','710','肥城市'],['3401','690','福安'],['3402','10163','思茅'],['3404','782','普宁'],['3405','776','龙川'],['4001','617','东昌区'],['4002','617','二道江区'],['4003','617','通化县'],['4004','617','辉南县'],['4005','617','柳河县'],['4006','617','梅河口市'],['4007','617','集安市'],['4008','708','临朐县'],['4009','711','环翠区'],['4010','711','文登区'],['4011','711','经济开发区'],['4012','711','火炬高技术产业区'],['4013','711','进出口加工保税区'],['4014','711','临港经济技术开发区'],['4015','711','南海新区']]

    new_area_code = []
    for i in range(len(arrArea)):
        wdddd = arrArea[i]
        del wdddd[1]
        new_area_code.append(wdddd)
    da = []
    ka = []
    va = []
    for ii in range(len(new_area_code)):
        da = new_area_code[ii]
        ka.append(da[1])
        va.append(da[0])
        da.clear()
    wd = dict(zip(ka, va))
    return wd[area]


if __name__ == '__main__':
    # inputcity = input('输入城市：')
    # inputarea = input('区：')
    # inputwork = input('你想查找的工作：')

    #东城区
    inputcity = '北京'
    inputarea = '东城区'
    inputwork = 'Python'

    u = one_url(city1(inputcity),area1(inputarea),inputwork)
    pase_page(u[0],u[1])
    print('ok')
